/* =========================================
   sidepanel.css
   Purpose: Style for the side panel UI.
   ========================================= */

:root {
  --text: rgba(0, 0, 0, 0.88);
  --muted: rgba(0, 0, 0, 0.6);
  --border: rgba(0, 0, 0, 0.12);
  --bg: rgba(0, 0, 0, 0.02);
}

body {
  margin: 0;
  padding: 0;
  color: var(--text);
  font-family:
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Arial,
    sans-serif;
}

/* Header */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  border-bottom: 1px solid var(--border);
}

.title {
  font-weight: 650;
  font-size: 14px;
}

/* Buttons */
.btn {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 10px;
  font-size: 12px;
  cursor: pointer;
  background: white;
}

.btn.primary {
  font-weight: 600;
}

.btn.secondary {
  background: rgba(0, 0, 0, 0.03);
}

/* Controls row */
.controls {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 12px;
  border-bottom: 1px solid var(--border);
  flex-wrap: wrap; /* allow wrapping on smaller screens */
}

.status {
  font-size: 12px;
  color: var(--muted);
}

/* Sections */
.section {
  padding: 12px;
  display: grid;
  gap: 10px;
}

.sectionTitle {
  font-size: 12px;
  font-weight: 650;
  color: var(--muted);
}

/* Cat area */
/* Center the stage */
.stage-wrap {
  display: flex;
  justify-content: center;
}

#stage {
  position: relative;
  width: min(360px, 100%); /* max width 400px, but shrink on smaller screens */
  aspect-ratio: 1 / 2;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  overflow: hidden;
}

#catImg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain; /* keep full image */
  object-position: center;
  z-index: 10; /* cat on top of tail */
}

#tailImg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  pointer-events: none;
  z-index: 5;
  transform-origin: 54% 53%; /* IMPORTANT: pivot at tail root */

  /* Smooth performance */
  will-change: transform;

  /* Animation (CSS-driven) */
  animation-name: tailSway;
  animation-duration: var(--tailDur, 3000ms);
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-delay: var(--tailDelay, 0ms);
}

/* A natural-ish asymmetric swing: -3deg to +13deg */
@keyframes tailSway {
  0% {
    transform: rotate(-2deg);
  }
  100% {
    transform: rotate(8deg);
  }
}

#garmentTopImg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  pointer-events: none;
  z-index: 30;
}

#garmentPantsImg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  pointer-events: none;
  z-index: 40; /* pants on top of top */
}

/* Preview box */
.preview {
  height: 280px;
  border: 1px dashed rgba(0, 0, 0, 0.25);
  border-radius: 14px;
  background: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.preview img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* keep aspect ratio */
}

.placeholder {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.55);
}

#eyelidsImg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  pointer-events: none;
  opacity: 0; /* hidden when not blinking */
  z-index: 20; /* eyelids above cat, but below clothes */
}
